<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: My Project</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">My Project </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="S1"></a>
Introducción</h1>
<p>Biblioteca de estructuras de datos y funciones codificadas en lenguaje C para implantar diferentes elementos de interfaz de usuario para aplicaciones que utilicen la pantalla LCD de una placa STM32F429I-DISC1. Es una pantalla táctil en color de 240x320 puntos.</p>
<p>Utiliza la biblioteca pantallaLCD para la visualización en pantalla. Los colores e imágenes se manejan según se explica en la documentación de esa biblioteca.</p>
<h1><a class="anchor" id="S2"></a>
Etiquetas de texto</h1>
<p>Componente que permite visualizar una línea de texto horizontal. El texto tiene un color y se muestra sobre un fondo de otro color. Se utiliza un juego de caracteres de tipo <a class="el" href="struct_l_c_d___juego_caracteres_alpha.html" title="Estructura para representar a un juego de caracteres.">LCD_JuegoCaracteresAlpha</a>. Existe un márgen entre el texto y los bordes de la etiqueta. El texto se puede mostrar alineado a la izquierda, centrado o a la derecha. La etiqueta se puede deshabilitar, en cuyo caso se muestra con niveles de gris. Se puede hacer visible o invisible.</p>
<p>Ejemplo: </p><div class="fragment"><div class="line">LCD_inicializa2Buffers(1);  <span class="comment">// Inicializa la pantalla para utilizar doble frame buffer</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_l_c_d___etiqueta.html">LCD_Etiqueta</a> e;  <span class="comment">// Estructura para manejar una etiqueta</span></div>
<div class="line"> </div>
<div class="line">LCD_inicializaEtiqueta(<span class="stringliteral">&quot;Contador:&quot;</span>, 10, 10, &amp;juegoAlpha15, 1, 150, 20, 3, 3, <a class="code hl_enumvalue" href="interfaz_l_c_d_8h.html#ae5024b8ff7ffb95a2a8ab3af11db6104a9646a9b3e2e6978eed261bc9e3e3cf60">LCD_ALINEACION_IZQUIERDA</a>,</div>
<div class="line">     0xFFFFFF00, 0xFF990000, 1, 1, &amp;e);</div>
<div class="line"><span class="comment">// Inicializa la etiqueta representada por la estructura e. Muestra inicialmente el texto &quot;Contador:&quot;.</span></div>
<div class="line"><span class="comment">// La esquina superior izquierda se situa en (10, 10). Se utiliza el juego de caracteres juegoAlpha15 con</span></div>
<div class="line"><span class="comment">// 1 punto de separación entre caracteres. La etiqueta tiene 150 puntos de ancho y 20 puntos de alto.</span></div>
<div class="line"><span class="comment">// Hay un márgen interno de 3 puntos entre los bordes de la etiqueta y el texto, que se alinea a la izquierda.</span></div>
<div class="line"><span class="comment">// El texto se muestra en color 0xFFFFFF00 y el fondo en el color 0xFF990000.</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">char</span> cadena[30];  <span class="comment">// Cadena para montar mensajes</span></div>
<div class="line"><span class="keywordtype">int</span> n = 1;  <span class="comment">// Contador</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span>(1) {</div>
<div class="line">    osDelay(100);  <span class="comment">// Bloquea durante 100 ms</span></div>
<div class="line">    sprintf(cadena, <span class="stringliteral">&quot;Contador: %d&quot;</span>, n);  <span class="comment">// Formatea el valor del contador en una cadena</span></div>
<div class="line">    n++;  <span class="comment">// Incrementa el contador</span></div>
<div class="line">    LCD_setTextoEtiqueta(cadena, &amp;e);  <span class="comment">// para establecer el texto a mostrar en la etiqueta</span></div>
<div class="line">    LCD_setFondoColor(0xFF0000FF);  <span class="comment">// Borra el frame buffer oculto con el color 0xFF0000FF</span></div>
<div class="line">    LCD_atiendeEtiqueta(&amp;e);  <span class="comment">// Dibuja la etiqueta en el frame buffer oculto</span></div>
<div class="line">    LCD_intercambiaBuffers();  <span class="comment">// Hace que el frame buffer oculto sea visible y el visible sea oculto</span></div>
<div class="line">}</div>
<div class="ttc" id="ainterfaz_l_c_d_8h_html_ae5024b8ff7ffb95a2a8ab3af11db6104a9646a9b3e2e6978eed261bc9e3e3cf60"><div class="ttname"><a href="interfaz_l_c_d_8h.html#ae5024b8ff7ffb95a2a8ab3af11db6104a9646a9b3e2e6978eed261bc9e3e3cf60">LCD_ALINEACION_IZQUIERDA</a></div><div class="ttdeci">@ LCD_ALINEACION_IZQUIERDA</div><div class="ttdoc">Alineación de texto a la izquierda.</div><div class="ttdef"><b>Definition</b> interfazLCD.h:318</div></div>
<div class="ttc" id="astruct_l_c_d___etiqueta_html"><div class="ttname"><a href="struct_l_c_d___etiqueta.html">LCD_Etiqueta</a></div><div class="ttdoc">Estructura para una etiqueta de texto.</div><div class="ttdef"><b>Definition</b> interfazLCD.h:347</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_l_c_d___etiqueta.html" title="Estructura para una etiqueta de texto.">LCD_Etiqueta</a>, <a class="el" href="interfaz_l_c_d_8h.html#ae486302cd9e56d183f2d19fd64ee5547" title="Inicializa una etiqueta para mostrar texto.">LCD_inicializaEtiqueta()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a2d9f6bd86d96b2ef58421f792169f0f4" title="Establece el texto de una etiqueta.">LCD_setTextoEtiqueta()</a>, LCD_setColorEtiqueta(), <a class="el" href="interfaz_l_c_d_8h.html#a2a3cdd814461965373f1515c5fdd666b" title="Establece el color de fondo de una etiqueta.">LCD_setColorFondoEtiqueta()</a>, <a class="el" href="interfaz_l_c_d_8h.html#af9140d0da7da18f8db6ec3054202953c" title="Establece la alineación del texto en una etiqueta.">LCD_setAlineacionEtiqueta()</a>, <a class="el" href="interfaz_l_c_d_8h.html#aa303551db8a60403f94cef92e6369400" title="Atiende al redibujado de la etiqueta.">LCD_atiendeEtiqueta()</a>, <a class="el" href="interfaz_l_c_d_8h.html#af6527c03b06d580ea199d7e439b5e979" title="Establece si la etiqueta tiene que mostrarse habilitada o deshabilitada.">LCD_setHabilitacionEtiqueta()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a31ee2b828742d94c948859c39dd369d3" title="Establece si la etiqueta tiene que ser visible o invisible.">LCD_setVisibilidadEtiqueta()</a>, <a class="el" href="interfaz_l_c_d_8h.html#ae7c89a0204a1b28c939cfeec88aa8927" title="Establece la posición de una etiqueta.">LCD_setPosicionEtiqueta()</a></dd></dl>
<h1><a class="anchor" id="S3"></a>
Imágenes</h1>
<p>Componente para visualización de imágenes. Cada imagen se muestra con sus dimensiones originales. Se puede establecer su posición (esquina superior izquierda), se puede modificar la imagen a visualizar, se puede deshabilitar (en cuyo caso se muestra en niveles de gris y semitransparente) y se puede hacer visible o invisible.</p>
<p>Cada imagen se indica en una matriz de bytes donde se guarda el color de cada punto en formato ARGB de 32 bits, por filas desde la superior a la inferior y en cada fila de izquierda a derecha.</p>
<p>Ejemplo: </p><div class="fragment"><div class="line">LCD_inicializa2Buffers(1);  <span class="comment">// Inicializa la pantalla para utilizar doble frame buffer</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_l_c_d___imagen.html">LCD_Imagen</a> imagen;  <span class="comment">// Estructura para manejar una imagen</span></div>
<div class="line"> </div>
<div class="line">LCD_inicializaImagen(10, 10, 60, 60, alarma4_60x60, 1, 1, &amp;imagen);</div>
<div class="line"><span class="comment">// Inicializa la imagen representada por la estructura &#39;imagen&#39;. Muestra la imagen descrita en la matriz</span></div>
<div class="line"><span class="comment">// de bytes &#39;alarma_60x60&#39;. La esquina superior izquierda se situa en (10, 10) y la imagen tiene</span></div>
<div class="line"><span class="comment">// 60 puntos de ancho por 60 puntos de alto. Inicialmente se muestra visible y en color original.</span></div>
<div class="line"> </div>
<div class="line">uint32_t numTicks = osKernelGetTickCount();  <span class="comment">// Obtiene el contador de ticks de FreeRTOS</span></div>
<div class="line"><span class="keywordtype">int</span> visible = 1;  <span class="comment">// Buleano para controlar la visibilidad de la imagen</span></div>
<div class="line"><span class="keywordflow">while</span>(1) {</div>
<div class="line">    numTicks += 500U;  <span class="comment">// Incrementa el contador de ticks para esperar 0.5 segundos</span></div>
<div class="line">    osDelayUntil(numTicks);  <span class="comment">// Bloquea hasta que el contador de ticks llegue a ese valor</span></div>
<div class="line">    LCD_setFondoColor(0xFF0000FF);  <span class="comment">// Borra el frame buffer oculto con el color 0xFF0000FF</span></div>
<div class="line">    LCD_setVisibilidadImagen(visible, &amp;imagen);  <span class="comment">// Establece la visibilidad de la imagen</span></div>
<div class="line">    visible = ! visible;  <span class="comment">// Niega este buleano para hacer parpadear la imagen</span></div>
<div class="line">    LCD_atiendeImagen(&amp;imagen);  <span class="comment">// Dibuja la imagen en el frame buffer oculto</span></div>
<div class="line">    LCD_intercambiaBuffers();  <span class="comment">// Hace que el frame buffer oculto sea visible y el visible sea oculto</span></div>
<div class="line">}</div>
<div class="ttc" id="astruct_l_c_d___imagen_html"><div class="ttname"><a href="struct_l_c_d___imagen.html">LCD_Imagen</a></div><div class="ttdoc">Estructura de datos para un componente que maneja una imagen.</div><div class="ttdef"><b>Definition</b> interfazLCD.h:598</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_l_c_d___imagen.html" title="Estructura de datos para un componente que maneja una imagen.">LCD_Imagen</a>, <a class="el" href="interfaz_l_c_d_8h.html#ac8808ea367ed409203103d33c215c180" title="Inicializa un componente de tipo LCD_Imagen.">LCD_inicializaImagen</a>, <a class="el" href="interfaz_l_c_d_8h.html#a30912831409782ce4eb630babecaa80a" title="Modifica la imagen a mostrar en un componente de tipo LCD_Imagen.">LCD_setImagen()</a>, <a class="el" href="interfaz_l_c_d_8h.html#ae049603430dc54d74425ef0562f29bce" title="Modifica la posición donde se muestra un componente de tipo LCD_Imagen.">LCD_setPosicionImagen()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a66f0a496bf80143710717fffe2387c40" title="Modifica la visibilidad de un componente de tipo LCD_Imagen.">LCD_setVisibilidadImagen()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a41fc71729890224f1110e46d62436d5f" title="Modifica la habilitación de un componente de tipo LCD_Imagen.">LCD_setHabilitacionImagen()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a0f8c2b9403a9ba558fc90a9e5eb7b442" title="Atiende al redibujado de una imagen.">LCD_atiendeImagen()</a></dd></dl>
<h1><a class="anchor" id="S4"></a>
Botones</h1>
<p>Cada botón se muestra utilizando una imagen. Se le asocia una función que se ejecuta cuando se pulsa el botón en la pantalla. Se puede hacer visible o invisible. Se puede habilitar o deshabilitar (en cuyo caso se muestra semitransparente y en niveles de gris y no ejecuta la función si se pulsa). Se puede mostrar un texto sobre el botón. Se puede modificar el texto, su color y la imagen del botón.</p>
<p>Ejemplo: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> contador = 0;  <span class="comment">// Entero para contaje</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> fBoton() {  <span class="comment">// Función que atiende la pulsación sobre el botón</span></div>
<div class="line">    contador = 0;  <span class="comment">// Resetea el contador</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> StartDefaultTask(<span class="keywordtype">void</span> *argument) {</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">char</span> cadena[20];  <span class="comment">// Cadena de caracteres para mostrar el contador como texto</span></div>
<div class="line"> </div>
<div class="line">    LCD_inicializa2Buffers(1);  <span class="comment">// Inicializa la pantalla para utilizar doble frame buffer</span></div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="struct_l_c_d___boton.html">LCD_Boton</a> boton;  <span class="comment">// Estructura para manejar un botón</span></div>
<div class="line"> </div>
<div class="line">    LCD_inicializaBoton(10, 10, 80, 29, imagenBoton, <span class="stringliteral">&quot;Reset&quot;</span>, &amp;juegoAlpha15, 1, 0xFF000000,</div>
<div class="line">        fBoton, 1, 1, &amp;boton);</div>
<div class="line">    <span class="comment">// Inicializa un botón representado por la estructura &#39;boton&#39;. Muestra la imagen descrita en la</span></div>
<div class="line">    <span class="comment">// matriz de bytes &#39;imagenBoton&#39;. La esquina superior izquierda se situa en (10, 10) y tiene</span></div>
<div class="line">    <span class="comment">// 80 puntos de ancho por 29 puntos de alto. Inicialmente se muestra visible y habilitado.</span></div>
<div class="line">    <span class="comment">// Sobre el botón se muestra el texto &quot;Reset&quot; utilizando un juego de caracteres &#39;juegoAlpha15&#39;,</span></div>
<div class="line">    <span class="comment">// con 1 punto de separación entre caracteres consecutivos y en color negro 0xFF000000. Cuando se</span></div>
<div class="line">    <span class="comment">// pulsa el botón, se ejecuta la función fBoton().</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span>(1) {</div>
<div class="line">        LCD_setFondoColor(0xFF0000FF);  <span class="comment">// Borra el frame buffer oculto con el color 0xFF0000FF</span></div>
<div class="line"> </div>
<div class="line">        contador ++;  <span class="comment">// Incrementa el contador</span></div>
<div class="line"> </div>
<div class="line">        sprintf(cadena, <span class="stringliteral">&quot;%d&quot;</span>, contador);  <span class="comment">// Convierte el entero a cadena de caracteres</span></div>
<div class="line"> </div>
<div class="line">        LCD_dibujaCadenaCaracteresAlpha(10, 50, cadena, 0xFFFFFFFF, 1, &amp;juegoAlpha15, 0, 100);</div>
<div class="line">        <span class="comment">// Visualiza el contador en la posición (10, 50) en blanco separando con 1 punto los</span></div>
<div class="line">        <span class="comment">// caracteres consecutivos y utilizando el juego de caracteres juegoAlpha15</span></div>
<div class="line"> </div>
<div class="line">        LCD_actualizaPulsacion();</div>
<div class="line">        <span class="comment">// Comprueba en la interfaz táctil si hubo alguna pulsación y determina dónde se ha pulsado</span></div>
<div class="line"> </div>
<div class="line">        LCD_atiendeBoton(&amp;boton);</div>
<div class="line">        <span class="comment">// Dibuja el botón en el frame buffer oculto.</span></div>
<div class="line">        <span class="comment">// Ejecuta la función asignada al botón si se pulsó sobre él.</span></div>
<div class="line"> </div>
<div class="line">        LCD_intercambiaBuffers();  <span class="comment">// Hace que el frame buffer oculto sea visible y el visible sea oculto</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="astruct_l_c_d___boton_html"><div class="ttname"><a href="struct_l_c_d___boton.html">LCD_Boton</a></div><div class="ttdoc">Estructura para manejo de un botón.</div><div class="ttdef"><b>Definition</b> interfazLCD.h:722</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_l_c_d___boton.html" title="Estructura para manejo de un botón.">LCD_Boton</a>, <a class="el" href="interfaz_l_c_d_8h.html#aa56e7cad5ce36399f82138cdaa59d393" title="Inicializa una estructura de tipo LCD_Boton.">LCD_inicializaBoton()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a8ccba465b8955bd15e9957e4c775a64d" title="Establece la visibilidad de un botón.">LCD_setVisibilidadBoton()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a0b1679d26162397f6eeafb02eb769718" title="Habilita o deshabilita un botón.">LCD_setHabilitacionBoton()</a>, <a class="el" href="interfaz_l_c_d_8h.html#aee027d851c2c0cc1e62be2008458f5b2" title="Establece el texto mostrado sobre el botón.">LCD_setTextoBoton()</a>, <a class="el" href="interfaz_l_c_d_8h.html#adbc519bc93c75cbde29444c46d30dba9" title="Establece el color del texto mostrado sobre el botón.">LCD_setColorTextoBoton()</a>, <a class="el" href="interfaz_l_c_d_8h.html#aeb439707e792d1d22c6f9cacda8d0a5c" title="Establece la imagen utilizada para representar al botón.">LCD_setImagenBoton()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a9f6148404e9bfa9f9f96ea1edf30d492" title="Atiende la posible pulsación sobre el botón.">LCD_atiendeBoton()</a></dd></dl>
<h1><a class="anchor" id="S5"></a>
Interruptores</h1>
<p>Un interruptor actúa como un botón que puede tener dos estados: ON y OFF. En cada estado se muestra una imagen diferente. Cuando se pulsa, cambia de estado y se llama a una función a la que se le pasa el nuevo estado. Puede habilitarse o deshabilitarse (en cuyo caso se muestra en niveles de gris y semitransparente. Puede hacerse visible o invisible.</p>
<p>Ejemplo: </p><div class="fragment"><div class="line"><a class="code hl_struct" href="struct_l_c_d___interruptor.html">LCD_Interruptor</a> interruptor;  <span class="comment">// Estructura para manejar un interruptor</span></div>
<div class="line"><a class="code hl_struct" href="struct_l_c_d___etiqueta.html">LCD_Etiqueta</a> etiqueta;  <span class="comment">// Etiqueta para mostrar un mensaje</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> fInterruptor() {  <span class="comment">// Función que atiende la pulsación sobre el botón</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (LCD_getEstadoInterruptor(&amp;interruptor))</div>
<div class="line">        LCD_setTextoEtiqueta(<span class="stringliteral">&quot;ON&quot;</span>, &amp;etiqueta);</div>
<div class="line">     <span class="keywordflow">else</span> LCD_setTextoEtiqueta(<span class="stringliteral">&quot;OFF&quot;</span>, &amp;etiqueta);</div>
<div class="line">    <span class="comment">// Indica en la etiqueta el estado del interruptor</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> StartDefaultTask(<span class="keywordtype">void</span> *argument)</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// init code for USB_HOST</span></div>
<div class="line">  MX_USB_HOST_Init();</div>
<div class="line">  <span class="comment">// USER CODE BEGIN 5</span></div>
<div class="line"> </div>
<div class="line">  LCD_inicializa2Buffers(1);  <span class="comment">// Inicializa la pantalla para utilizar doble frame buffer</span></div>
<div class="line"> </div>
<div class="line">  LCD_inicializaEtiqueta(<span class="stringliteral">&quot;&quot;</span>, 10, 50, &amp;juegoAlpha15, 1, 100, 20, 5, 4, <a class="code hl_enumvalue" href="interfaz_l_c_d_8h.html#ae5024b8ff7ffb95a2a8ab3af11db6104a9646a9b3e2e6978eed261bc9e3e3cf60">LCD_ALINEACION_IZQUIERDA</a>, 0xFFFFFF00,</div>
<div class="line">      0x00000000, 1, 1, &amp;etiqueta);</div>
<div class="line">  <span class="comment">// Crea una etiqueta para mostrar mensajes</span></div>
<div class="line"> </div>
<div class="line">  LCD_inicializaInterruptor(10, 10, 50, 24, interruptor17On_50x24, interruptor17Off_50x24, fInterruptor,</div>
<div class="line">      1, 1, &amp;interruptor);</div>
<div class="line">  <span class="comment">// Inicializa un interruptor representado por la estructura &#39;interruptor&#39;. Muestra la imagen descrita en</span></div>
<div class="line">  <span class="comment">// la matriz de bytes &#39;interruptor17On_50x24&#39; cuando está en estado ON y muestra la imagen descrita en</span></div>
<div class="line">  <span class="comment">// &#39;interruptor17Off_50x24&#39; cuando está en estado OFF. La esquina superior izquierda se situa en (10, 10)</span></div>
<div class="line">  <span class="comment">// y tiene 50 puntos de ancho por 24 puntos de alto. Inicialmente se muestra visible y habilitado.</span></div>
<div class="line">  <span class="comment">// Cuando se pulsa el interruptor, se ejecuta la función fInterruptor().</span></div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">while</span>(1) {</div>
<div class="line">      LCD_setFondoColor(0xFF0000FF);  <span class="comment">// Borra el frame buffer oculto con el color 0xFF0000FF</span></div>
<div class="line">      LCD_actualizaPulsacion();  <span class="comment">// Comprueba en la interfaz táctil si hubo alguna pulsación</span></div>
<div class="line"> </div>
<div class="line">      LCD_atiendeInterruptor(&amp;interruptor);</div>
<div class="line">      <span class="comment">// Dibuja el interruptor en el frame buffer oculto y ejecuta la función asignada si se pulsó sobre él</span></div>
<div class="line"> </div>
<div class="line">      LCD_atiendeEtiqueta(&amp;etiqueta);  <span class="comment">// Dibuja la etiqueta en el buffer oculto</span></div>
<div class="line"> </div>
<div class="line">      LCD_intercambiaBuffers();  <span class="comment">// Hace que el frame buffer oculto sea visible y el visible sea oculto</span></div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="comment">// USER CODE END 5</span></div>
<div class="line">}</div>
<div class="ttc" id="astruct_l_c_d___interruptor_html"><div class="ttname"><a href="struct_l_c_d___interruptor.html">LCD_Interruptor</a></div><div class="ttdoc">Estructura para representar un interruptor.</div><div class="ttdef"><b>Definition</b> interfazLCD.h:952</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_l_c_d___interruptor.html" title="Estructura para representar un interruptor.">LCD_Interruptor</a>, <a class="el" href="interfaz_l_c_d_8h.html#a4a5945b3ed1d1e2d821b33b88931e57e" title="Inicializa un interruptor.">LCD_inicializaInterruptor()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a115155be009106f2d57a07e572bc576f" title="Muestra u oculta un interruptor.">LCD_setVisibilidadInterruptor()</a>, <a class="el" href="interfaz_l_c_d_8h.html#ac383e5462e85813de1d7e0f31226b5ab" title="Habilita o deshabilita un interruptor.">LCD_setHabilitacionInterruptor()</a>, <a class="el" href="interfaz_l_c_d_8h.html#a207987c8e53eb7a70778c03fc3f6b075" title="Obtiene el estado del interruptor.">LCD_getEstadoInterruptor()</a>, <a class="el" href="interfaz_l_c_d_8h.html#af70196ed7f192374f290b9a0773a5936">LCD_setEstadoInterruptor()</a>, <a class="el" href="interfaz_l_c_d_8h.html#ac8eed3b98fc270e05d66ddf1d0b02319" title="Atiende a una posible pulsación sobre un interruptor.">LCD_atiendeInterruptor()</a></dd></dl>
<h1><a class="anchor" id="S6"></a>
Barras</h1>
<p>Componente en el que se muestra un valor numérico en texto y también gráficamente en una barra horizontal coloreada. Antes del valor se puede mostrar un texto. Se puede hacer visible o invisible. Se pueden modificar los colores utilizados.</p>
<p>Ejemplo: </p><div class="fragment"><div class="line">LCD_inicializa2Buffers(1);  <span class="comment">// Inicializa la pantalla para utilizar doble frame buffer</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_l_c_d___barra.html">LCD_Barra</a> barra;</div>
<div class="line">LCD_inicializaBarra(<span class="stringliteral">&quot;Dato:&quot;</span>, 0, 100, 120, 30, 10, 10, 5, 1, 0xFFFFFF00, 0xFFFF0000, 0xFF000000,</div>
<div class="line">  &amp;juegoAlpha15, 1, &amp;barra);</div>
<div class="line"><span class="comment">// Inicializa la estructura &#39;barra&#39; para mostrar valores precedidos por la cadena &quot;Dato:&quot; comprendidos</span></div>
<div class="line"><span class="comment">// entre 0 y 100, en una barra de 120 puntos de ancho y 30 de alto, con esquina superior izquierda en</span></div>
<div class="line"><span class="comment">// (10, 10), utilizando hasta 5 caracteres para el valor, con 1 decimal, mostrando el valor y la cadena</span></div>
<div class="line"><span class="comment">// en color amarillo 0xFFFFFF00, la barra en rojo 0xFFFF0000 y el fondo en negro 0xFF000000, utilizando</span></div>
<div class="line"><span class="comment">// el juego de caracteres &#39;juegoAlpha15&#39;, con 1 punto de separación entre caracteres consecutivos.</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">float</span> valor = 0;  <span class="comment">// Valor a mostrar en la barra</span></div>
<div class="line"><span class="keywordflow">while</span>(1) {</div>
<div class="line">   LCD_setFondoColor(0xFF0000FF);  <span class="comment">// Borra el frame buffer oculto con el color 0xFF0000FF</span></div>
<div class="line">   valor += 1.2345;  <span class="comment">// Actualiza el valor</span></div>
<div class="line">   <span class="keywordflow">if</span> (valor &gt; 100) valor = 0;  <span class="comment">// Valores entre 0 y 100</span></div>
<div class="line">   LCD_setValorBarra(valor, &amp;barra);  <span class="comment">// Establece el valor a mostrar en la barra</span></div>
<div class="line">   LCD_atiendeBarra(&amp;barra);  <span class="comment">// Muestra la barra</span></div>
<div class="line">   LCD_intercambiaBuffers();  <span class="comment">// Hace que el frame buffer oculto sea visible y el visible sea oculto</span></div>
<div class="line">}</div>
<div class="ttc" id="astruct_l_c_d___barra_html"><div class="ttname"><a href="struct_l_c_d___barra.html">LCD_Barra</a></div><div class="ttdoc">Valor mostrado en una barra horizontal.</div><div class="ttdef"><b>Definition</b> interfazLCD.h:1115</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="struct_l_c_d___barra.html" title="Valor mostrado en una barra horizontal.">LCD_Barra</a>, LCD_inicializaBarra(), LCD_setVisibilidadBarra(), LCD_setColorTextoBarra(), LCD_setColorBarra(), LCD_setColorFondoBarra(), LCD_setValorBarra(), LCD_atiendeBarra()</dd></dl>
<h1><a class="anchor" id="S7"></a>
Editor de un valor</h1>
<p>Componente que muestra un valor numérico y que permite modificarlo, pulsando sobre el mismo editor. Si se pulsa sobre el primer cuarto del editor, situado a la izquierda, se realiza un decremento mayor. Si se pulsa sobre el segundo cuarto, se realiza un decremento menor. Si se pulsa sobre el tercer cuarto, se realiza un incremento menor. Si se pulsa sobre el cuarto cuarto, situado a la derecha, se realiza un incremento mayor. Se utilizan dos cantidades, una para realizar los decrementos/incrementos menores y otra para los mayores.</p>
<p>Ejemplo: </p><div class="fragment"><div class="line">LCD_inicializa2Buffers(0);  <span class="comment">// Inicializa la pantalla para utilizar doble frame buffer</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="struct_l_c_d___editor.html">LCD_Editor</a> editor;  <span class="comment">// Estructura de datos para manejar un editor de un valor numérico</span></div>
<div class="line"> </div>
<div class="line">LCD_inicializaEditor(10, 0.1, 1, 10, 10, 100, 20, 5, 4, <a class="code hl_enumvalue" href="interfaz_l_c_d_8h.html#ae5024b8ff7ffb95a2a8ab3af11db6104a0faa0d8961592abef75bfe5971b71791">LCD_ALINEACION_CENTRO</a>, 0xFF000000, 0xFFFFFFFF,</div>
<div class="line">  &amp;juegoAlpha15, 1, 1, &amp;editor);</div>
<div class="line"><span class="comment">// Inicializa la estructura &#39;editor&#39; para editar un valor numérico que parte de 10 y donde se realizan</span></div>
<div class="line"><span class="comment">// incrementos/decrementos menores de 0.1 unidades e incrementos/decrementos mayores de 1 unidad.</span></div>
<div class="line"><span class="comment">// El editor se sitúa en la posición (10, 10) y tiene 100 puntos de ancho y 20 de alto.</span></div>
<div class="line"><span class="comment">// El texto se muestra con un margen superior de 5 puntos y alineado al centro. El texto se muestra en</span></div>
<div class="line"><span class="comment">// color blanco 0xFFFFFFFF sobre un fondo negro 0xFF000000 utilizando un juego de caracteres juegoAlpha15</span></div>
<div class="line"><span class="comment">// y separando con un punto caracteres consecutivos. El valor se muestra con un decimal.</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span>(1) {</div>
<div class="line">  LCD_setFondoColor(0xFF0000FF);  <span class="comment">// Borra el frame buffer oculto con el color azul 0xFF0000FF</span></div>
<div class="line">  LCD_actualizaPulsacion();  <span class="comment">// Actualiza el estado de la pulsación sobre la pantalla</span></div>
<div class="line">  LCD_atiendeEditor(&amp;editor);  <span class="comment">// Muestra el editor y actualiza el valor si se pulsa sobre el editor</span></div>
<div class="line">  LCD_intercambiaBuffers();  <span class="comment">// Hace que el frame buffer oculto sea visible y el visible sea oculto</span></div>
<div class="line">}</div>
<div class="ttc" id="ainterfaz_l_c_d_8h_html_ae5024b8ff7ffb95a2a8ab3af11db6104a0faa0d8961592abef75bfe5971b71791"><div class="ttname"><a href="interfaz_l_c_d_8h.html#ae5024b8ff7ffb95a2a8ab3af11db6104a0faa0d8961592abef75bfe5971b71791">LCD_ALINEACION_CENTRO</a></div><div class="ttdeci">@ LCD_ALINEACION_CENTRO</div><div class="ttdoc">Alineación de texto centrado.</div><div class="ttdef"><b>Definition</b> interfazLCD.h:320</div></div>
<div class="ttc" id="astruct_l_c_d___editor_html"><div class="ttname"><a href="struct_l_c_d___editor.html">LCD_Editor</a></div><div class="ttdoc">Componente para la introducción de un valor numérico.</div><div class="ttdef"><b>Definition</b> interfazLCD.h:1283</div></div>
</div><!-- fragment --><dl class="section see"><dt>See also</dt><dd>LCD_EditorDato, LCD_inicializaEditorDato(), LCD_setVisibilidadEditorDato, LCD_getValorEditorDato(), LCD_atiendeEditorDato(), LCD_editorDatoIntroduciendo </dd></dl>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
